# EngLog API Server Environment Configuration - Development
# "The API is the heart of our system, pumping data through digital arteries." ðŸ’»

# =============================================================================
# Application Configuration
# =============================================================================
APP_ENV=development
APP_PORT=8080
APP_HOST=0.0.0.0
LOG_LEVEL=info

# =============================================================================
# Database Configuration
# =============================================================================
DB_HOST_READ_WRITE=postgres-dev:5432
DB_HOST_READ_ONLY=postgres-dev:5432
DB_SCHEMA=englog
DB_NAME=englog
DB_USER=englog
DB_PASSWORD=password

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=redis-dev
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# =============================================================================
# JWT & Authentication Configuration
# =============================================================================
JWT_SECRET=your_very_secure_jwt_secret_key_change_this_in_production
JWT_ACCESS_TOKEN_DURATION=15m
JWT_REFRESH_TOKEN_DURATION=168h
JWT_ISSUER=englog-api

# =============================================================================
# gRPC Server Configuration (API -> Worker Communication)
# =============================================================================
GRPC_SERVER_PORT=50051
WORKER_GRPC_ADDRESS=worker-dev:9091
TLS_ENABLED=false
TLS_CERT_FILE=./certs/server.crt
TLS_KEY_FILE=./certs/server.key
GRPC_SERVER_NAME=localhost

# =============================================================================
# Security & CORS Configuration
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Origin,Content-Type,Accept,Authorization,X-Requested-With
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
BCRYPT_COST=12

# =============================================================================
# Server Timeouts
# =============================================================================
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s
SERVER_IDLE_TIMEOUT=120s
SERVER_SHUTDOWN_TIMEOUT=30s
SERVER_REQUEST_TIMEOUT=30s

# =============================================================================
# File Upload Configuration
# =============================================================================
MAX_UPLOAD_SIZE=10485760
UPLOAD_DIR=uploads

# =============================================================================
# Monitoring & Observability
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30s
TRACING_ENABLED=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_INSIGHTS_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_EXPORT_ENABLED=true

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_DEFAULT_TTL=1h
CACHE_SESSION_TTL=24h
CACHE_INSIGHTS_TTL=30m

# =============================================================================
# Background Jobs (API-side scheduling)
# =============================================================================
CLEANUP_INTERVAL=24h
ANALYTICS_PROCESSING_INTERVAL=1h

# =============================================================================
# Development Configuration
# =============================================================================
DEBUG=false
PPROF_ENABLED=false
HOT_RELOAD=true

# =============================================================================
# Docker/Deployment Configuration
# =============================================================================
DOCKER_REGISTRY=docker.io
IMAGE_TAG=latest
DEPLOYMENT_ENV=development
